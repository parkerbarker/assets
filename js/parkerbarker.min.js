!function(e){"use strict";var t={enableIOSOptimizations:!0,enableDarkMode:!0,enableFormEnhancements:!0,enableAccessibility:!0,toastDuration:3e3},n={iOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,reducedMotion:window.matchMedia("(prefers-reduced-motion: reduce)").matches,darkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,hasNotch:window.innerWidth>0&&window.screen.width/window.innerWidth>1,standalone:window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches},i={find:function(e,t){return t=t||document,Array.prototype.slice.call(t.querySelectorAll(e))},findOne:function(e,t){return(t=t||document).querySelector(e)},on:function(e,t,n,i){"function"!=typeof n?e.addEventListener(t,function(t){var a=t.target;if(a.matches&&a.matches(n))i.call(a,t);else for(var o=a;o&&o!==e;){if(o.matches&&o.matches(n)){i.call(o,t);break}o=o.parentNode}}):e.addEventListener(t,n)},off:function(e,t,n){e.removeEventListener(t,n)},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},toggleClass:function(e,t,n){if(e.classList)void 0!==n?e.classList.toggle(t,n):e.classList.toggle(t);else{var i=e.className.split(" "),a=i.indexOf(t);a>=0&&(void 0===n||!n)?i.splice(a,1):a<0&&(void 0===n||n)&&i.push(t),e.className=i.join(" ")}},hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},attr:function(e,t,n){if(void 0===n)return e.getAttribute(t);e.setAttribute(t,n)},removeAttr:function(e,t){e.removeAttribute(t)},getStyle:function(e,t){return window.getComputedStyle(e).getPropertyValue(t)},setStyle:function(e,t,n){e.style[t]=n},create:function(e,t){var n=document.createElement(e);if(t)for(var i in t)t.hasOwnProperty(i)&&("class"===i?n.className=t[i]:n.setAttribute(i,t[i]));return n}},a={init:function(){var e=this;if(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(n){t.enableDarkMode&&e.setDarkMode(n.matches)}),i.on(document,"click","[data-pb-theme-toggle]",function(t){e.toggleDarkMode()}),window.localStorage){var n=localStorage.getItem("pb-dark-mode");null!==n&&this.setDarkMode("true"===n)}},isDarkMode:function(){return document.body.classList.contains("pb-dark-mode")},setDarkMode:function(e){i.toggleClass(document.body,"pb-dark-mode",e),i.removeClass(document.body,"pb-light-mode"),window.localStorage&&localStorage.setItem("pb-dark-mode",e?"true":"false"),document.dispatchEvent(new CustomEvent("pb-theme-change",{detail:{darkMode:e}}))},toggleDarkMode:function(){this.setDarkMode(!this.isDarkMode())}},o={init:function(){if(!i.findOne(".pb-toast-container")){var e=document.createElement("div");e.className="pb-toast-container",document.body.appendChild(e)}},show:function(e,n){var a=(n=n||{}).type||"info",o=void 0!==n.duration?n.duration:t.toastDuration,s=void 0===n.closable||n.closable,c=this;this.init();var r=document.createElement("div");if(r.className="pb-toast pb-toast-"+a,r.innerHTML=e,s){var d=document.createElement("button");d.className="pb-toast-close",d.innerHTML="Ã—",d.addEventListener("click",function(){c.hide(r)}),r.appendChild(d)}return i.findOne(".pb-toast-container").appendChild(r),setTimeout(function(){i.addClass(r,"pb-toast-visible")},10),o>0&&setTimeout(function(){c.hide(r)},o),r},hide:function(e){i.removeClass(e,"pb-toast-visible"),e.addEventListener("transitionend",function(){e.parentNode&&e.parentNode.removeChild(e)})}},s={init:function(){this.initValidation(),this.enhanceSelects(),this.enhanceCheckboxesRadios()},initValidation:function(){i.on(document,"blur","input, select, textarea",function(){var e=this.checkValidity();i.toggleClass(this,"is-invalid",!e),i.toggleClass(this,"is-valid",e&&this.value.length>0);var t=this.parentNode.querySelector(".pb-form-error");t&&(t.textContent=this.validationMessage,t.style.display=e?"none":"block")}),i.on(document,"change","input, select, textarea",function(){var e=this.checkValidity();i.toggleClass(this,"is-invalid",!e),i.toggleClass(this,"is-valid",e&&this.value.length>0)}),i.on(document,"submit","form",function(e){if(this.querySelectorAll("input, select, textarea").forEach(function(e){e.dispatchEvent(new Event("blur"))}),!this.checkValidity()){e.preventDefault();var t=this.querySelector(":invalid");t&&t.focus()}})},enhanceSelects:function(){i.find("select:not(.pb-select-enhanced)").forEach(function(e){i.addClass(e,"pb-select-enhanced"),e.setAttribute("aria-label",e.getAttribute("placeholder")||"Select an option"),e.addEventListener("change",function(){var e=this.options[this.selectedIndex],t=this.closest(".pb-select-wrapper");if(t){var n=t.querySelector(".pb-select-display");n&&(n.textContent=e.text)}})})},enhanceCheckboxesRadios:function(){i.find('input[type="checkbox"], input[type="radio"]').forEach(function(e){if(!e.closest(".pb-checkbox, .pb-radio")){var t=e.id;if(t){var n=i.findOne('label[for="'+t+'"]');if(n){var a=i.create("div",{class:"checkbox"===e.type?"pb-checkbox":"pb-radio"});e.parentNode.insertBefore(a,e),a.appendChild(e),i.addClass(n,"checkbox"===e.type?"pb-checkbox-label":"pb-radio-label"),a.appendChild(n)}}}})}},c={init:function(){n.iOS&&(this.applySafeAreas(),this.fixInputFocus(),this.fixKeyboardScroll(),this.enableFastClicks())},applySafeAreas:function(){var e=function(){if(!CSS.supports("padding-top: env(safe-area-inset-top)")){var e=document.createElement("style");e.innerHTML="\n            :root {\n              --pb-safe-area-top: "+(n.hasNotch?"44px":"20px")+";\n              --pb-safe-area-right: 0px;\n              --pb-safe-area-bottom: "+(n.hasNotch?"34px":"0px")+";\n              --pb-safe-area-left: 0px;\n            }\n          ",document.head.appendChild(e)}};e(),window.addEventListener("orientationchange",function(){setTimeout(e,100)})},fixInputFocus:function(){document.addEventListener("focus",function(e){var t=e.target;"INPUT"!==t.tagName&&"SELECT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView({behavior:"smooth",block:"center"}))},!0),document.addEventListener("touchend",function(e){var t=document.activeElement;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&"SELECT"!==t.tagName||t.contains(e.target)||t.blur()})},fixKeyboardScroll:function(){document.querySelectorAll("input, textarea, select").forEach(function(e){e.addEventListener("focus",function(){document.body.classList.add("pb-keyboard-visible")}),e.addEventListener("blur",function(){document.body.classList.remove("pb-keyboard-visible")})})},enableFastClicks:function(){document.addEventListener("touchstart",function(){},{passive:!0})}},r={init:function(){var e=this;i.find('input[type="date"]').forEach(function(t){var n=e.isTouchDevice();e.isWebView()||n?(t.setAttribute("inputmode","none"),t.setAttribute("readonly","readonly")):e.setupCustomPicker(t)})},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},isWebView:function(){var e=navigator.userAgent.toLowerCase();return e.includes("wv")&&e.includes("safari")||e.includes("wv")&&e.includes("chrome")||e.includes("webview")||!window.chrome||window.webkit&&window.webkit.messageHandlers},setupCustomPicker:function(e){var t=i.create("div",{class:"pb-date-picker-wrapper pb-relative"});e.parentNode.insertBefore(t,e),t.appendChild(e),t.addEventListener("click",function(t){t.target!==e&&e.showPicker&&e.showPicker()})}},d={init:function(e){for(var o in e=e||{})e.hasOwnProperty(o)&&(t[o]=e[o]);var r=document.body;return n.iOS&&i.addClass(r,"pb-ios"),n.touch&&i.addClass(r,"pb-touch"),n.reducedMotion&&i.addClass(r,"pb-reduced-motion"),n.standalone&&i.addClass(r,"pb-standalone"),this.initModules(),t.enableDarkMode&&n.darkMode&&a.setDarkMode(!0),t.enableIOSOptimizations&&n.iOS&&c.init(),t.enableFormEnhancements&&s.init(),document.dispatchEvent(new CustomEvent("pb-init")),this},initModules:function(){a.init(),o.init()}};e.ParkerBarker={init:d.init.bind(d),config:t,env:n,dom:i,theme:a,ios:c,forms:s,toast:o,datePicker:r,version:"1.0.0"},"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",function(){})}("undefined"!=typeof window?window:this);
//# sourceMappingURL=parkerbarker.min.js.map